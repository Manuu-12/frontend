<div class="row">
    <div class="col-xl-12 order-xl-2 mb-5 mb-xl-0">
      <div class="card card-profile shadow">
        <div class="card-body pt-0 pt-md-4">
          <div class="text-center">
            <h3>
              Ubicación Actual del Dispositivo
              <span *ngIf="gpsId"> (GPS ID: {{ gpsId }})</span>
            </h3>

            <div *ngIf="loading" class="text-center mt-4">
              <p>Cargando ubicación GPS...</p>
              </div>

            <div *ngIf="errorMessage" class="alert alert-danger mt-4">
              {{ errorMessage }}
            </div>

            <div *ngIf="!loading && !errorMessage && currentLatitude !== null && currentLongitude !== null">
                <p class="h5 mt-4">
                  <i class="ni business_briefcase-24 mr-2"></i> Latitud: {{ currentLatitude }}
                </p>
                <p class="h5">
                  <i class="ni education_hat mr-2"></i> Longitud: {{ currentLongitude }}
                </p>
                <div class="mt-4">
                    <app-mapa-gps
                      [latitude]="currentLatitude"
                      [longitude]="currentLongitude"
                      [zoom]="15">
                    </app-mapa-gps>
                </div>
            </div>

            <div *ngIf="!loading && !errorMessage && (currentLatitude === null || currentLongitude === null)" class="text-center">
                <div class="alert alert-warning">
                    No se encontró información de ubicación GPS para el ID proporcionado.
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>